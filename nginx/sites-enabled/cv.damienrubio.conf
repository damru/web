# Begin HTTP Server
server {
	listen 80; # IPv4
	listen [::]:80 ;
	server_name cv.damienrubio.com docker.cv.damienrubio nas.cv.damienrubio;

	## Parametrization using hostname of access and log filenames.
	access_log 	/var/log/nginx/cv.damienrubio-access.log;
	error_log 	/var/log/nginx/cv.damienrubio-error.log;

	## Root and index files.
	root /usr/share/nginx/html/resume;

	#Common conf : favicon, robots.txt ...
	include /etc/nginx/conf.d/custom/common.conf;
	#Denied files
	include /etc/nginx/conf.d/custom/denied_files.conf;
	## Regular PHP processing.
	include	/etc/nginx/conf.d/custom/php.conf;
	## PhpMyAdmin
	#include /etc/nginx/conf.d/custom/phpmyadmin.conf;

    ## Try the requested URI as files before handling it to PHP.
	location / {
		index  index.php index.html index.htm;
	}

	## 404 - Not found page
	error_page 404 @notfound;
	location @notfound {
		rewrite  .*  / permanent;
		return 404;
	}
}